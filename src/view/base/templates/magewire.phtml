<?php

declare(strict_types=1);

use Magento\Framework\View\Element\Template;
use Magewirephp\Magewire\ViewModel\Magewire as MagewireViewModel;

/** @var Template $block */
/** @var MagewireViewModel $magewireViewModel */

/** @internal Do not modify to ensure Magewire continues to function correctly. */

$magewireViewModel = $block->getData('view_model');

$templateUtil = $magewireViewModel->utils()->template();
$layoutUtil = $magewireViewModel->utils()->layout();
$magewireUtil = $magewireViewModel->utils()->magewire();

$canRequireMagewire = $magewireUtil->canRequireMagewire();
?>

<?= $templateUtil->echoCodeComment('start', true) ?>
<?= $templateUtil->echoCodeComment('global', false, 'container') ?>
<?= $layoutUtil->getChildHtml($block, 'global', ['require_magewire' => $canRequireMagewire]) ?>

<?= $templateUtil->echoCodeComment('before', false, 'container') ?>
<?= $block->getChildHtml('before') ?>

<?php if ($canRequireMagewire): ?>
    <?= $templateUtil->echoCodeComment('internal before', false, 'container') ?>
    <?= $block->getChildHtml('before.internal') ?>
    <?= $templateUtil->echoCodeComment('script') ?>
    <?= $block->getChildHtml('script') ?>
    <?= $templateUtil->echoCodeComment('internal') ?>
    <?= $block->getChildHtml('internal') ?>
    <?= $templateUtil->echoCodeComment('directives', false, 'container') ?>
    <?= $block->getChildHtml('directives') ?>
    <?= $templateUtil->echoCodeComment('features', false, 'container') ?>
    <?= $block->getChildHtml('features') ?>
    <?= $templateUtil->echoCodeComment('internal after', false, 'container') ?>
    <?= $block->getChildHtml('after.internal') ?>
<?php else: ?>
    <?= $templateUtil->echoCodeComment('disabled', false, 'container') ?>
    <?= $block->getChildHtml('disabled') ?>
<?php endif ?>

<?= $templateUtil->echoCodeComment('after', false, 'container') ?>
<?= $block->getChildHtml('after') ?>
<?= $templateUtil->echoCodeComment('end', true) ?>
